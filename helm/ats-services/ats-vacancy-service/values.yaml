replicaCount: 1

# image:
#   repository: glacius27/ats-vacancy-service
#   tag: "latest"
#   pullPolicy: IfNotPresent
image:
  repository: ""
  tag: ""
  pullPolicy: IfNotPresent

service:
  port: 8080

env:
  ASPNETCORE_ENVIRONMENT: "Development"
  EnableSwagger: "true"

  # CORS Configuration
  Cors__Enabled: "true"
  # Cors__AllowedOrigins can be set as array if needed, e.g., ["http://frontend.local", "http://localhost:3000"]

  # MongoDB
  MongoDbSettings__ConnectionString: "mongodb://vacancy-mongodb:27017"
  MongoDbSettings__DatabaseName: "ats_vacancy_db"
  MongoDbSettings__VacanciesCollection: "Vacancies"

  # RabbitMQ
  RabbitMq__HostName: "rabbitmq"
  RabbitMq__Port: "5672"
  RabbitMq__UserName: "ats_user"
  RabbitMq__Exchange: "ats.exchange"
  RabbitMq__ClientId: "vacancy"

  # Service Discovery - Disabled, using Kubernetes DNS
  SERVICE_DISCOVERY_ENABLED: "false"
  
  # Kubernetes service URLs (using DNS)
  AuthService__BaseUrl: "http://ats-authorization-service:8080"

secretEnv:
  RabbitMq__Password: "ats_pass"

ingress:
  enabled: true
  className: "nginx"
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
    nginx.ingress.kubernetes.io/enable-cors: "true"
    nginx.ingress.kubernetes.io/cors-allow-origin: "*"
    nginx.ingress.kubernetes.io/cors-allow-methods: "GET, POST, PUT, PATCH, DELETE, OPTIONS"
    nginx.ingress.kubernetes.io/cors-allow-headers: "DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,Authorization"
    nginx.ingress.kubernetes.io/cors-expose-headers: "Content-Length,Content-Range"
  hosts:
    - host: vacancy.local
      paths:
        - path: /
          pathType: Prefix
  tls: []

metrics:
  enabled: true
  scrapeInterval: "30s"
