# Устранение неполадок - Страницы рекрутера

## Проблема: Не видно ссылок "Мои вакансии" и "Отклики"

### Проверка 1: Авторизация и роли

1. Откройте консоль браузера (F12)
2. Войдите в систему
3. Проверьте в консоли логи:
   - Должны быть сообщения: `User roles: [...]` и `Authorized user: {...}`
   - Если роли пустые `[]`, значит пользователь не найден в authorization service

### Проверка 2: Пользователь в authorization service

Если роли пустые, нужно создать пользователя в authorization service:

```bash
# Получите Keycloak User ID из токена (в консоли браузера после входа)
# Затем создайте пользователя через API:

curl -X POST http://authorization.local/api/users \
  -H "Content-Type: application/json" \
  -d '{
    "username": "recruiter",
    "email": "recruiter@example.com",
    "password": "123456",
    "role": "Recruiter"
  }'
```

Или используйте существующего пользователя из Keycloak и назначьте ему роль через API:

```bash
# Получите User ID из authorization service
curl http://authorization.local/api/users

# Назначьте роль (замените USER_ID на реальный ID)
curl -X POST http://authorization.local/api/roles/USER_ID/assign \
  -H "Content-Type: application/json" \
  -d '{"role": "Recruiter"}'
```

### Проверка 3: Прямой доступ к страницам

Попробуйте открыть страницы напрямую:
- http://localhost:3000/recruiter/vacancies
- http://localhost:3000/recruiter/candidates

Если вы авторизованы, но не имеете нужных ролей, увидите сообщение "Доступ запрещен".

### Проверка 4: Консоль браузера

Откройте консоль браузера и проверьте:
1. Нет ли ошибок JavaScript
2. Правильно ли загружаются роли: `console.log('Roles:', roles)`
3. Правильно ли работает авторизация: проверьте `authorizedUser` в консоли

### Проверка 5: Перезагрузка приложения

1. Остановите приложение (Ctrl+C)
2. Удалите кэш: `rm -rf node_modules/.cache`
3. Запустите снова: `npm start`
4. Очистите кэш браузера (Ctrl+Shift+Delete) или откройте в режиме инкогнито

## Быстрая проверка

1. Войдите как `recruiter` / `123456` в Keycloak
2. Проверьте в консоли браузера, что роли загружены
3. Если роли пустые - создайте пользователя в authorization service (см. выше)
4. После создания пользователя выйдите и войдите снова

## Альтернативный способ доступа

Если ссылки не появляются, можно открыть страницы напрямую:
- `/recruiter/vacancies` - управление вакансиями
- `/recruiter/candidates` - просмотр откликов

Страницы защищены проверкой ролей, поэтому если у вас нет нужных ролей, увидите сообщение об ошибке.
